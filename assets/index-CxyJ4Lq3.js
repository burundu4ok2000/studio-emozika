(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function X(){const e=document.querySelectorAll(".reveal-on-scroll");if(e.length){const t=new IntersectionObserver(a=>{a.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),t.unobserve(i.target))})},{threshold:.15});e.forEach(a=>t.observe(a))}}const U=()=>window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function Y(){const e=document.querySelector("#stats"),t=document.querySelectorAll(".stat-number[data-target]");if(e&&t.length){const i=new IntersectionObserver(r=>{r.forEach(o=>{o.isIntersecting&&(U()?t.forEach(s=>{const c=parseInt(s.dataset.target,10),d=s.dataset.suffix||"";isNaN(c)||(s.textContent=c+d)}):t.forEach(s=>a(s)),i.unobserve(o.target))})},{threshold:.3});i.observe(e)}function a(i){const r=parseInt(i.dataset.target,10);if(isNaN(r))return;const o=i.dataset.suffix||"",s=800,c=performance.now();function d(l){const f=Math.min((l-c)/s,1),n=Math.floor(r*f);i.textContent=n+o,f<1&&requestAnimationFrame(d)}requestAnimationFrame(d)}}function z(){const e=document.querySelectorAll("[data-scroll-to]");e.length&&e.forEach(t=>{const a=t.getAttribute("data-scroll-to");a&&t.addEventListener("click",i=>{const r=document.getElementById(a);r&&(i.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"}))})})}function G(){const e=document.querySelector(".studio-journey");if(e){let d=function(m){if(!m||!s||!c)return;const g=r.indexOf(m);r.forEach((w,C)=>{w.classList.toggle("is-active",w===m),w.classList.toggle("is-past",g!==-1&&C<g)});const y=m.getAttribute("data-title")||"",u=m.getAttribute("data-text")||"";if(s.textContent=y,c.textContent=u,o&&r.length>1&&g!==-1){const w=g/(r.length-1)*100;o.style.setProperty("--journey-progress",w+"%")}},v=function(){f!==null&&(window.clearInterval(f),f=null)},p=function(){U()||r.length<=1||(v(),f=window.setInterval(()=>{const m=e.querySelector(".studio-journey-step.is-active")||r[0],y=(r.indexOf(m)+1)%r.length,u=r[y];d(u)},n))};var t=d,a=v,i=p;const r=Array.from(e.querySelectorAll(".studio-journey-step[data-title][data-text]")),o=e.querySelector(".studio-journey-track"),s=e.querySelector(".studio-journey-detail-title"),c=e.querySelector(".studio-journey-detail-text");let l=e.querySelector(".studio-journey-step.is-active");!l&&r.length&&(l=r[0]),l&&d(l);let f=null;const n=8e3;U()||p(),e.addEventListener("click",m=>{const g=m.target.closest(".studio-journey-step");!g||!e.contains(g)||(d(g),p())}),e.addEventListener("keydown",m=>{const g=m.key;if(g!=="Enter"&&g!==" "&&g!=="Spacebar")return;const y=m.target.closest(".studio-journey-step");!y||!e.contains(y)||(m.preventDefault(),d(y),p())}),e.addEventListener("mouseenter",v),e.addEventListener("mouseleave",p)}}function K(){const e=document.querySelectorAll(".section-studio .studio-track-path[data-timeline]");e.length&&e.forEach(t=>{const a=Array.from(t.querySelectorAll(".timeline-step"));if(!a.length)return;let i=a.findIndex(f=>f.classList.contains("timeline-step--active"));i<0&&(i=0,a[0].classList.add("timeline-step--active"));function r(f){a.forEach((n,v)=>{n.classList.toggle("timeline-step--active",v===f)})}r(i);const o=t.dataset.autoplay==="true"&&!U();let s=null;const c=6e3;function d(){!o||s!==null||a.length<=1||(s=window.setInterval(()=>{i=(i+1)%a.length,r(i)},c))}function l(){s!==null&&(window.clearInterval(s),s=null)}a.forEach((f,n)=>{f.addEventListener("click",()=>{i=n,r(i),l()})}),t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",d),d()})}function Q(){const e=document.querySelector("#afisha");if(e){let j=function(){return N.filter(function(b){return b.showInAfisha}).sort(function(b,h){const x=typeof b.afishaOrder=="number"?b.afishaOrder:999,A=typeof h.afishaOrder=="number"?h.afishaOrder:999;return x-A})},H=function(b){const h=[];return b.age&&h.push(b.age),b.genre&&h.push(b.genre),b.duration&&h.push(b.duration),b.hall&&h.push(b.hall),b.city&&h.push(b.city),h.join(" • ")},$=function(b){const h=[];return b.genre&&h.push(b.genre),b.age&&h.push(b.age),h.join(" • ")},P=function(){if(!d)return;const b=j();if(!b.length){d.innerHTML='<p class="afisha-empty">Скоро здесь появятся спектакли театра «Эмоцика».</p>';return}const h=b.map(function(x){const A=x.poster&&x.poster.desktop?x.poster.desktop:"",I=$(x);let B="";if(x.badge){let R="afisha-card-badge badge badge--glass";x.badgeType&&(R+=" afisha-card-badge--"+x.badgeType),B='<span class="'+R+'">'+x.badge+"</span>"}return'<article class="afisha-card afisha-card--strip" data-play-id="'+x.id+'"><div class="afisha-card-poster-wrapper">'+(A?'<img class="afisha-card-poster-image" src="'+A+'" alt="Постер спектакля '+x.title+'">'+(B?'<div class="afisha-card-badge-wrap">'+B+"</div>":""):"")+'</div><div class="afisha-card-footer">'+(I?'<p class="afisha-card-subline">'+I+"</p>":"")+'<h3 class="afisha-title">'+x.title+'</h3><div class="afisha-buttons afisha-buttons--strip">'+(x.ticketUrl?'<a class="btn btn-primary btn-lg" href="'+x.ticketUrl+'" target="_blank" rel="noopener">Купить билет</a>':"")+'<button type="button" class="btn btn-outline btn-lg" data-play-open="'+x.id+'">Подробнее о спектакле</button></div></div></article>'}).join("");d.innerHTML=h},D=function(b){if(!n||!N.length)return;const h=N.find(function(A){return A.id===b});if(!h)return;const x=H(h);if(p&&(h.badge?(p.textContent=h.badge,p.classList.remove("is-hidden")):(p.textContent="",p.classList.add("is-hidden"))),m&&(m.textContent=h.title||""),g&&(g.textContent=x||"",g.classList.toggle("is-hidden",!x)),y&&(y.textContent=h.tagline||"",y.classList.toggle("is-hidden",!h.tagline)),u&&(u.innerHTML="",Array.isArray(h.description)&&h.description.length&&h.description.forEach(function(A){const I=document.createElement("p");I.textContent=A,u.appendChild(I)})),w&&C&&(w.innerHTML="",Array.isArray(h.whyToWatch)&&h.whyToWatch.length?(h.whyToWatch.forEach(function(A){const I=document.createElement("li");I.textContent=A,w.appendChild(I)}),C.classList.remove("is-hidden")):C.classList.add("is-hidden")),L){const A=h.credits&&h.credits.author;L.textContent=A?"Автор: "+h.credits.author:"",L.classList.toggle("is-hidden",!A)}if(S){const A=h.credits&&h.credits.director;S.textContent=A?"Режиссёр: "+h.credits.director:"",S.classList.toggle("is-hidden",!A)}if(k&&_&&T){k.innerHTML="";const A=h.credits&&Array.isArray(h.credits.cast)?h.credits.cast:[];if(A.length){const I=h.credits.castTitle||"В ролях";_.textContent=I,A.forEach(function(B){const R=document.createElement("li");R.textContent=B,k.appendChild(R)}),T.classList.remove("is-hidden")}else T.classList.add("is-hidden")}if(E&&(E.innerHTML="",E.style.display="",h.media&&h.media.videoEmbed?(E.style.display="block",E.innerHTML=h.media.videoEmbed):h.media&&Array.isArray(h.media.photos)&&h.media.photos.length&&(E.style.display="grid",h.media.photos.forEach(function(A){const I=document.createElement("img");I.src=A,I.alt="Фотография спектакля "+h.title,I.className="play-modal-photo",E.appendChild(I)}))),q&&(q.innerHTML="",h.media&&h.media.video)){const A=document.createElement("div");A.className="play-modal-video-placeholder",A.textContent="Видео спектакля скоро появится на сайте.",q.appendChild(A)}M&&(h.ticketUrl?(M.href=h.ticketUrl,M.classList.remove("is-hidden")):(M.removeAttribute("href"),M.classList.add("is-hidden"))),n.removeAttribute("hidden"),document.body.classList.add("has-modal-open")},F=function(){n&&(n.setAttribute("hidden","true"),document.body.classList.remove("has-modal-open"))},W=function(){if(!d)return;d.addEventListener("click",function(h){const x=h.target.closest("[data-play-open]");if(!x)return;const A=x.getAttribute("data-play-open");A&&D(A)});function b(h){if(!d)return;const x=d.querySelector(".afisha-card--strip"),A=x?x.getBoundingClientRect().width:320,I=20,B=h==="next"?A+I:-(A+I);d.scrollBy({left:B,behavior:"smooth"})}l&&l.addEventListener("click",function(){b("prev")}),f&&f.addEventListener("click",function(){b("next")}),n&&(v.forEach(function(h){h.addEventListener("click",F)}),n.addEventListener("click",function(h){h.target===n&&F()}),document.addEventListener("keydown",function(h){h.key==="Escape"&&n&&!n.hasAttribute("hidden")&&F()}))};var t=j,a=H,i=$,r=P,o=D,s=F,c=W;const d=e.querySelector("[data-afisha-strip]"),l=e.querySelector(".afisha-strip-arrow--prev"),f=e.querySelector(".afisha-strip-arrow--next"),n=document.querySelector("[data-play-modal]"),v=n?n.querySelectorAll("[data-play-modal-close]"):[],p=n?n.querySelector("[data-play-badge]"):null,m=n?n.querySelector("[data-play-title]"):null,g=n?n.querySelector("[data-play-meta]"):null,y=n?n.querySelector("[data-play-tagline]"):null,u=n?n.querySelector("[data-play-description]"):null,w=n?n.querySelector("[data-play-why]"):null,C=n?n.querySelector("[data-play-why-container]"):null,L=n?n.querySelector("[data-play-author]"):null,S=n?n.querySelector("[data-play-director]"):null,_=n?n.querySelector("[data-play-cast-title]"):null,k=n?n.querySelector("[data-play-cast]"):null,T=n?n.querySelector("[data-play-cast-container]"):null,E=n?n.querySelector("[data-play-photos]"):null,q=n?n.querySelector("[data-play-video]"):null,M=n?n.querySelector("[data-play-ticket]"):null;let N=[];fetch("assets/data/plays.json").then(function(b){if(!b.ok)throw new Error("HTTP "+b.status);return b.json()}).then(function(b){!b||!Array.isArray(b.plays)||(N=b.plays.slice(),P(),W())}).catch(function(b){console.error("Не удалось загрузить данные спектаклей:",b)})}}function J(){const e=document.querySelector("#films");if(e){const r=e.querySelector("[data-films-carousel]"),o=e.querySelector("[data-film-detail]");if(r&&o){let d=function(){r.innerHTML="",s.forEach(n=>{const v=document.createElement("button");v.type="button",v.className="films-card"+(n.id===c?" films-card--active":""),v.setAttribute("data-film-id",n.id);const p=n.year||"Добавить данные",m=n.city||"Добавить данные",g=n.awards||[],y=g.slice(0,2),u=g.length>2?g.length-2:0,w=y.map(L=>{let S="films-card-award-pill badge badge--soft";L.status&&/гран[- ]?при/i.test(L.status)&&(S="films-card-award-pill badge badge--gold");const _=[L.status,L.festival].filter(Boolean).join(" ");return`<span class="${S}">${_}</span>`}).join(""),C=u>0?`<span class="films-card-award-pill films-card-award-pill--more badge badge--outline">+${u} фестиваля</span>`:"";v.innerHTML=`
            <div class="films-card-poster">
              <div class="films-card-poster-inner">
                ${n.title.charAt(0)||"Ф"}
              </div>
            </div>
            <div class="films-card-main">
              <h4 class="films-card-title">${n.title}</h4>
              <p class="films-card-meta">${p} · ${m}</p>
              <p class="films-card-logline">${n.logline||""}</p>
              <div class="films-card-awards">
                ${w}${C}
              </div>
            </div>
          `,v.addEventListener("click",()=>{c!==n.id&&(c=n.id,d(),l(n))}),r.appendChild(v)})},l=function(n){const v=o.querySelector("[data-film-title]"),p=o.querySelector("[data-film-meta]"),m=o.querySelector("[data-film-authors]"),g=o.querySelector("[data-film-synopsis]"),y=o.querySelector("[data-film-awards]"),u=o.querySelector("[data-film-embed]"),w=o.querySelector("[data-film-vk-link]");if(v&&(v.textContent=n.title),p){const C=n.year||"Добавить данные",L=n.city||"Добавить данные";p.textContent=`${C} · ${L}`}if(m){const C=[`Сценарий: ${n.writer||"Добавить данные"}`,`Режиссура: ${n.directors&&n.directors.length?n.directors.join(", "):"Добавить данные"}`,`Оператор: ${n.dop||"Добавить данные"}`];n.editor&&C.push(`Редактор: ${n.editor}`),m.innerHTML=C.map(L=>`<span class="films-detail-author">${L}</span>`).join("")}if(g&&(g.textContent=n.synopsis||""),y){y.innerHTML="";const C=n.awards||[];if(C.length)C.forEach(L=>{const S=document.createElement("li");S.className="films-detail-award";const _=[L.status,L.festival,L.city&&`(${L.city})`,L.year].filter(Boolean);S.textContent=_.join(", "),y.appendChild(S)});else{const L=document.createElement("li");L.className="films-detail-award films-detail-award--empty",L.textContent="Награды будут добавлены позже.",y.appendChild(L)}}if(u&&(n.vkEmbedUrl?u.innerHTML=`
              <iframe
                src="${n.vkEmbedUrl}"
                frameborder="0"
                allowfullscreen
                loading="lazy"
              ></iframe>
            `:u.innerHTML='<div class="films-video-placeholder">Видео появится позже</div>'),w){const C=n.vkPageUrl||n.vkEmbedUrl;C?(w.href=C,w.style.display=""):w.style.display="none"}},f=function(n){s=Array.isArray(n)?n:[],s.length&&(c=s[0].id,d(),l(s[0]))};var t=d,a=l,i=f;let s=[],c=null;fetch("assets/data/films.json").then(function(n){if(!n.ok)throw new Error("HTTP "+n.status);return n.json()}).then(function(n){f(n)}).catch(function(n){console.error("Не удалось загрузить данные фильмов:",n)})}}}function Z(){const e=document.querySelector("#gallery");if(e){let C=function(){return y==="all"?g:g.filter(E=>E.category===y)},L=function(){if(!c)return;const E=C();if(u=E,c.innerHTML="",!E.length){const q=document.createElement("p");q.className="gallery__empty",q.textContent="Скоро здесь появятся новые фотографии.",c.appendChild(q);return}E.forEach((q,M)=>{const N=document.createElement("button");N.type="button",N.className="gallery-card",N.setAttribute("data-gallery-id",q.id),N.setAttribute("data-gallery-index",String(M)),N.innerHTML=`
          <div class="gallery-card__image-wrapper">
            <img
              src="${q.src}"
              alt="${q.alt}"
              class="gallery-card__image"
              loading="lazy"
            >
            <div class="gallery-card__frame"></div>
          </div>
          <div class="gallery-card__meta">
            <div class="gallery-card__title"></div>
            <div class="gallery-card__tag">
              <span class="gallery-card__tag-dot"></span>
              <span class="gallery-card__tag-label"></span>
            </div>
          </div>
        `;const j=N.querySelector(".gallery-card__title"),H=N.querySelector(".gallery-card__tag-label"),$=N.querySelector(".gallery-card__tag");j&&(j.textContent=q.caption||""),H&&$&&(q.categoryLabel?H.textContent=q.categoryLabel:$.style.display="none"),N.addEventListener("click",()=>{_(M)}),c.appendChild(N)})},S=function(){if(!f||!n)return;const E=u[w];if(!E)return;const q=E.full||E.src;f.src=q,f.alt=E.alt||"",n.textContent=E.caption||""},_=function(E){!l||!f||!u.length||(w=E,S(),l.hidden=!1,document.body.classList.add("is-lightbox-open"))},k=function(){l&&(l.hidden=!0,document.body.classList.remove("is-lightbox-open"))},T=function(E){if(!u.length)return;const q=u.length;w=(w+E+q)%q,S()};var t=C,a=L,i=S,r=_,o=k,s=T;const c=e.querySelector("[data-gallery-scroller]"),d=e.querySelectorAll("[data-gallery-filter]"),l=document.querySelector("#gallery-lightbox"),f=l?l.querySelector(".lightbox__image"):null,n=l?l.querySelector(".lightbox__caption"):null,v=l?l.querySelector("[data-lightbox-prev]"):null,p=l?l.querySelector("[data-lightbox-next]"):null,m=l?l.querySelectorAll("[data-lightbox-close]"):[],g=[{id:"rehearsal-1",category:"rehearsal",categoryLabel:"Репетиции",src:"assets/gallery/rehearsal-1.jpg",full:"assets/gallery/rehearsal-1.jpg",alt:"Репетиция в студии «Эмоция»",caption:"Репетиция в студии «Эмоция»"},{id:"show-1",category:"stage",categoryLabel:"Сцена",src:"assets/gallery/show-1.jpg",full:"assets/gallery/show-1.jpg",alt:"Юные актёры на сцене",caption:"Юные актёры на сцене"},{id:"backstage-1",category:"backstage",categoryLabel:"Закулисье",src:"assets/gallery/backstage-1.jpg",full:"assets/gallery/backstage-1.jpg",alt:"Закулисье перед спектаклем",caption:"Закулисье перед спектаклем"},{id:"rehearsal-2",category:"rehearsal",categoryLabel:"Репетиции",src:"assets/gallery/rehearsal-2.jpg",full:"assets/gallery/rehearsal-2.jpg",alt:"Работа над сценой",caption:"Работа над сценой"}];let y="all",u=[],w=0;v&&v.addEventListener("click",()=>{T(-1)}),p&&p.addEventListener("click",()=>{T(1)}),m.forEach(E=>{E.addEventListener("click",()=>{k()})}),document.addEventListener("keydown",E=>{!l||l.hidden||(E.key==="Escape"?k():E.key==="ArrowRight"?T(1):E.key==="ArrowLeft"&&T(-1))}),d.length&&d.forEach(E=>{E.addEventListener("click",()=>{y=E.getAttribute("data-gallery-filter")||"all",d.forEach(M=>{M.classList.toggle("is-active",M===E)}),L()})}),L()}}function ee(){document.addEventListener("click",e=>{const t=e.target.closest(".faq-question");if(!t)return;const i=t.parentElement.querySelector(".faq-answer");if(!i)return;const r=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",(!r).toString()),i.classList.toggle("open")})}function te(){function e(t){const a=document.querySelector("#people");if(!a||!t)return;const i=a.querySelector("[data-people-filters]"),r=a.querySelector("[data-people-root]");if(!i||!r)return;const o=Array.isArray(t.groups)?t.groups:[];if(!o.length)return;let s=o[0].id,c=!1;function d(){return window.innerWidth<=768?3:6}function l(){return o.find(function(p){return p.id===s})}function f(){i.innerHTML="",o.forEach(function(p){const m=document.createElement("button");m.type="button",m.className="people-filter"+(p.id===s?" is-active":""),m.textContent=p.title||"",m.setAttribute("data-group-id",p.id),m.setAttribute("role","tab"),m.setAttribute("aria-selected",p.id===s?"true":"false"),i.appendChild(m)})}function n(){r.innerHTML="";const p=l();if(!p)return;const m=document.createElement("div");m.className="people-grid";const g=Array.isArray(p.people)?p.people.slice():[];g.sort(function(u,w){const C=typeof u.order=="number"?u.order:0,L=typeof w.order=="number"?w.order:0;return C-L});const y=d();if(c&&g.length,g.forEach(function(u,w){const C=document.createElement("article");C.className="person-card card-luxe";const L=document.createElement("figure");if(L.className="person-photo",u.photoUrl){const k=document.createElement("div");k.className="people-card-photo";const T=document.createElement("img");T.src=u.photoUrl,T.alt=u.name||"",k.appendChild(T),L.appendChild(k)}const S=document.createElement("div");S.className="person-content";const _=document.createElement("h4");if(_.className="person-name",_.textContent=u.name||"",S.appendChild(_),u.role){const k=document.createElement("p");k.className="person-role",k.textContent=u.role,S.appendChild(k)}if(Array.isArray(u.tags)&&u.tags.length){const k=document.createElement("div");k.className="person-tags",u.tags.forEach(function(T){const E=document.createElement("span");E.className="person-tag",E.textContent=T,k.appendChild(E)}),S.appendChild(k)}if(u.bio){const k=document.createElement("p");k.className="person-bio",k.textContent=u.bio,S.appendChild(k)}C.appendChild(L),C.appendChild(S),!c&&w>=y&&C.classList.add("person-card--collapsed"),m.appendChild(C)}),r.appendChild(m),p.note){const u=document.createElement("p");u.className="people-note text-muted",u.textContent=p.note,r.appendChild(u)}if(g.length>d()){const u=document.createElement("button");u.type="button",u.className="people-toggle",u.textContent=c?"Свернуть раздел":"Показать ещё людей",u.addEventListener("click",function(){c=!c,n()}),r.appendChild(u)}}i.addEventListener("click",function(p){const m=p.target.closest(".people-filter");if(!m)return;const g=m.getAttribute("data-group-id");!g||g===s||(s=g,c=!1,f(),n())}),f(),n();let v=window.innerWidth<=768;window.addEventListener("resize",function(){const p=window.innerWidth<=768;p!==v&&!c&&(v=p,n())})}fetch("assets/data/people.json").then(function(t){if(!t.ok)throw new Error("HTTP "+t.status);return t.json()}).then(function(t){e(t)}).catch(function(t){console.error("Не удалось загрузить данные людей театра:",t)})}const re=[{id:"review-masha-9",kind:"video",title:"Маша, 9 лет — перестала бояться сцены",quote:"После первого спектакля мы увидели совсем другого ребёнка — уверенного и светящегося.",authorLabel:"Мама Маши, 9 лет",thumbUrl:"assets/img/reviews/masha-9-thumb.webp",thumbAlt:"Кадр из видеоотзыва: мама Маши после спектакля",videoEmbedUrl:"",platform:"youtube",videoId:"XXXXXXXX",persona:"parent",childName:"Маша",childAge:9,yearsInStudio:3,yearsInStudioLabel:"3 года в студии",branch:"филиал у Комендантского",event:"Спектакль «Любовь у сливного бачка»",topics:["уверенность","первый_спектакль","атмосфера"],isFeatured:!0,order:10,isActive:!0,durationSeconds:75,durationLabel:"01:15",recordedAt:"2024-12-15"},{id:"review-kirill-12",kind:"video",title:"Кирилл, 12 лет — научился говорить вслух",quote:"Учителя в школе заметили, что Кирилл стал спокойно выходить к доске и не мямлить. Для нас это огромный шаг.",authorLabel:"Папа Кирилла, 12 лет",thumbUrl:"assets/img/reviews/kirill-12-thumb.webp",thumbAlt:"Кирилл с папой после спектакля",videoEmbedUrl:"",platform:"vk",videoId:"0000000_0000000",persona:"parent",childName:"Кирилл",childAge:12,yearsInStudio:2,yearsInStudioLabel:"2 года в студии",branch:"филиал на Пионерской",event:"Фестиваль «На берегах Невы»",topics:["речь","уверенность","фестивали"],isFeatured:!1,order:20,isActive:!0,durationSeconds:90,durationLabel:"01:30",recordedAt:"2024-03-10"},{id:"review-montage-camp",kind:"video",title:"Лагерь «Эмоция» — как вторая семья",quote:"Дети возвращаются из лагеря с ощущением, что у них появилась новая семья. Это не просто отдых, а глубокий опыт.",authorLabel:"Монтаж отзывов родителей",thumbUrl:"assets/img/reviews/camp-montage-thumb.webp",thumbAlt:"Кадры из смены лагеря студии «Эмоция»",videoEmbedUrl:"",platform:"youtube",videoId:"YYYYYYYY",persona:"montage",childName:"",childAge:null,yearsInStudio:null,yearsInStudioLabel:"",branch:"",event:"Лагерь «Эмоция»",topics:["лагерь","атмосфера","команда"],isFeatured:!1,order:30,isActive:!0,durationSeconds:120,durationLabel:"02:00",recordedAt:"2023-08-20"}];function V(e){var t=[];if(e.authorLabel)t.push(e.authorLabel);else if(e.childName||e.childAge){var a=[];e.childName&&a.push(e.childName),typeof e.childAge=="number"&&a.push(e.childAge+" лет"),a.length&&t.push(a.join(", "))}return e.yearsInStudioLabel&&t.push(e.yearsInStudioLabel),e.branch&&t.push(e.branch),t.join(" • ")}function ne(e){var t=document.createElement("article");t.className="review-video-card card card-hover",t.setAttribute("data-review-id",e.id);var a=document.createElement("div");if(a.className="review-video-card__poster",e.thumbUrl&&(a.style.backgroundImage="url("+e.thumbUrl+")"),e.durationLabel){var i=document.createElement("span");i.className="review-video-card__duration",i.textContent=e.durationLabel,a.appendChild(i)}var r=document.createElement("span");r.className="review-video-card__badge",r.textContent="Видеоотзыв";var o=document.createElement("h3");o.className="review-video-card__title",o.textContent=e.title||"";var s=document.createElement("p");return s.className="review-video-card__meta",s.textContent=V(e),t.appendChild(a),t.appendChild(r),t.appendChild(o),t.appendChild(s),t}function ae(e,t){var a=e.querySelector(".review-lightbox__title"),i=e.querySelector(".review-lightbox__quote"),r=e.querySelector(".review-lightbox__meta"),o=e.querySelector(".review-lightbox__video");if(o){if(o.innerHTML="",t.videoEmbedUrl){var s=document.createElement("iframe"),c=t.videoEmbedUrl;s.src=c,s.title=t.title||"Видеоотзыв",s.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",s.allowFullscreen=!0,o.appendChild(s)}a&&(a.textContent=t.title||""),i&&(i.textContent=t.quote||""),r&&(r.textContent=V(t)+(t.event?" • "+t.event:"")),e.setAttribute("data-current-id",t.id),e.hidden=!1,e.setAttribute("aria-hidden","false"),e.classList.add("is-open"),document.body.classList.add("is-lightbox-open")}}function O(e){var t=e.querySelector(".review-lightbox__video");t&&(t.innerHTML=""),e.classList.remove("is-open"),e.hidden=!0,e.setAttribute("aria-hidden","true"),document.body.classList.remove("is-lightbox-open")}function ie(){var e=document.getElementById("reviews");if(!e)return;var t=e.querySelector("[data-reviews-strip]"),a=e.querySelector("[data-review-lightbox]");if(!t||!a)return;var i=re.filter(function(l){return l.isActive!==!1});if(!i.length){e.classList.add("section-reviews--empty");return}i.sort(function(l,f){var n=!!l.isFeatured,v=!!f.isFeatured;if(n!==v)return n?-1:1;var p=typeof l.order=="number"?l.order:0,m=typeof f.order=="number"?f.order:0;return p-m}),i.forEach(function(l){var f=ne(l);t.appendChild(f)}),t.addEventListener("click",function(l){var f=l.target.closest(".review-video-card");if(f){for(var n=f.getAttribute("data-review-id"),v=null,p=0;p<i.length;p++)if(i[p].id===n){v=i[p];break}v&&ae(a,v)}});var r=e.querySelector("[data-reviews-arrow='left']"),o=e.querySelector("[data-reviews-arrow='right']");function s(l){if(t){var f=t.querySelector(".review-video-card"),n=f?f.getBoundingClientRect().width:260;t.scrollBy({left:l*(n*.9+16),behavior:"smooth"})}}r&&r.addEventListener("click",function(){s(-1)}),o&&o.addEventListener("click",function(){s(1)});var c=a.querySelector("[data-review-lightbox-close]"),d=a.querySelector("[data-review-lightbox-backdrop]");c&&c.addEventListener("click",function(){O(a)}),d&&d.addEventListener("click",function(){O(a)}),document.addEventListener("keydown",function(l){l.key==="Escape"&&a.classList.contains("is-open")&&O(a)})}function oe(e){return Array.isArray(e)?e.slice().sort(function(t,a){if(t.isAdults&&!a.isAdults)return-1;if(!t.isAdults&&a.isAdults)return 1;var i=(t.metro||"").toLowerCase(),r=(a.metro||"").toLowerCase();if(i<r)return-1;if(i>r)return 1;var o=(t.city||"").toLowerCase(),s=(a.city||"").toLowerCase();if(o<s)return-1;if(o>s)return 1;var c=(t.place||"").toLowerCase(),d=(a.place||"").toLowerCase();return c<d?-1:c>d?1:0}):[]}function se(e,t,a,i){if(e){e.innerHTML="";var r=Array.isArray(t)?t.slice():[],o=(i||"").toLowerCase();if(a==="adults"&&(r=r.filter(function(c){return c.isAdults})),!r.length){var s=document.createElement("p");s.className="branches-empty",s.textContent=a==="adults"?"Сейчас группы для взрослых проходят только на части площадок. Уточните расписание у администратора студии.":"Филиалы временно недоступны.",e.appendChild(s);return}r.forEach(function(c){var d=document.createElement("article");d.className="branch-card card-hover"+(c.isAdults?" branch-card--adults":""),o&&(c.metro||"").toLowerCase()===o&&d.classList.add("branch-card--highlight");var l=document.createElement("div");l.className="branch-card-top";var f=document.createElement("span");f.className="branch-metro",f.textContent=c.metro||"";var n=document.createElement("h3");n.className="branch-place",n.textContent=c.place||"",l.appendChild(f),l.appendChild(n);var v=document.createElement("p");v.className="branch-address",v.textContent=c.address||"";var p=document.createElement("div");if(p.className="branch-meta",c.city){var m=document.createElement("span");m.className="branch-city",m.textContent=c.city,p.appendChild(m)}if(c.area){var g=document.createElement("span");g.className="branch-area",g.textContent=c.area,p.appendChild(g)}if(c.comment){var y=document.createElement("p");y.className="branch-comment",y.textContent=c.comment,d.appendChild(y)}if(c.phones&&c.phones.length){var u=document.createElement("div");u.className="branch-phones";var w=document.createElement("span");w.className="branch-phones-label",w.textContent=c.phones.length>1?"Телефоны администратора:":"Телефон администратора:",u.appendChild(w),c.phones.forEach(function(L){var S=document.createElement("a");S.className="branch-phone-link",S.href="tel:"+L.replace(/\s+/g,""),S.textContent=L,u.appendChild(S)}),d.appendChild(u)}if(c.isAdults){var C=document.createElement("span");C.className="branch-adults-badge",C.textContent="Группы 18+",d.appendChild(C)}d.appendChild(l),d.appendChild(v),p.childNodes.length&&d.appendChild(p),e.appendChild(d)})}}function le(e){var t={},a=[];return Array.isArray(e)&&(e.forEach(function(i){var r=i.metro||"";r&&(t[r]||(t[r]=!0,a.push(r)))}),a.sort(function(i,r){return i.localeCompare(r,"ru")})),a}function ce(e){var t={},a=[];return Array.isArray(e)&&(e.forEach(function(i){var r=i.area||"";r&&(t[r]||(t[r]=!0,a.push(r)))}),a.sort(function(i,r){return i.localeCompare(r,"ru")})),a}function de(e,t){if(e){if(e.innerHTML="",!Array.isArray(t)||!t.length){var a=document.createElement("li");a.className="branches-area-item",a.textContent="Санкт-Петербург и Кудрово",e.appendChild(a);return}t.forEach(function(i){var r=document.createElement("li");r.className="branches-area-item",r.textContent=i,e.appendChild(r)})}}function ue(){if(!window.location||!window.location.search)return"";try{var e=new URLSearchParams(window.location.search),t=e.get("metro");return t?t.trim():""}catch{return""}}function fe(e){var t=document.querySelector("#branches");if(!t)return;var a=t.querySelector("[data-branches-list]"),i=t.querySelectorAll("[data-branch-filter]"),r=t.querySelector("[data-branch-my-metro]"),o=t.querySelector("[data-branches-areas]");if(!a)return;var s=oe(e),c="all",d="",l=ue();l&&(d=l);function f(){se(a,s,c,d)}function n(y){c=y,i&&i.length&&i.forEach(function(u){var w=u.getAttribute("data-branch-filter")||"all";u.classList.toggle("is-active",w===c)}),f()}function v(y){if(d=y||"",r){var u=r.value||"";u!==d&&(r.value=d)}f()}if(r){r.innerHTML="";var p=document.createElement("option");p.value="",p.textContent="Не выбрано",r.appendChild(p);var m=le(s);m.forEach(function(y){var u=document.createElement("option");u.value=y,u.textContent=y,r.appendChild(u)}),d&&(r.value=d),r.addEventListener("change",function(){var y=r.value||"";v(y)})}if(o){var g=ce(s);de(o,g)}i&&i.length&&i.forEach(function(y){y.addEventListener("click",function(){var u=y.getAttribute("data-branch-filter")||"all";n(u)})}),f()}function pe(){fetch("assets/data/branches.json").then(function(e){if(!e.ok)throw new Error("HTTP "+e.status);return e.json()}).then(function(e){var t=Array.isArray(e)?e:e.branches||[];t.length&&fe(t)}).catch(function(e){console.error("Не удалось загрузить филиалы:",e)})}const he="assets/data/abonements.json";function me(e){const t=document.createElement("article");return t.className="abonement-card",(e.highlight||e.isHero)&&t.classList.add("abonement-card--highlight"),t.dataset.abonementId=e.id,t.innerHTML=`
    ${e.tagLine?`<p class="abonement-tagline">${e.tagLine}</p>`:""}
    <h3 class="abonement-name">${e.name}</h3>
    ${e.age?`<p class="abonement-age">${e.age}</p>`:""}
    ${e.description?`<p class="abonement-description">${e.description}</p>`:""}
    ${Array.isArray(e.bullets)&&e.bullets.length?`<ul class="abonement-list">
            ${e.bullets.map(a=>`<li>${a}</li>`).join("")}
          </ul>`:""}
    <div class="abonement-bottom">
      ${e.price?`<p class="abonement-price">${e.price}</p>`:""}
      ${e.note?`<p class="abonement-note">${e.note}</p>`:""}
    </div>
    ${e.badge?`<span class="abonement-badge">${e.badge}</span>`:""}
  `,e.isHero&&(t.classList.add("abonement-card--hero"),t.setAttribute("aria-label",`${e.name}. Чаще всего родители выбирают именно этот формат.`)),t}function ye(e,t){e.innerHTML="",t.forEach(a=>{const i=me(a);e.appendChild(i)})}function ge(){return fetch(he).then(e=>{if(!e.ok)throw new Error("Не удалось загрузить данные абонементов");return e.json()}).catch(e=>(console.error("[Abonements] Ошибка загрузки данных:",e),[]))}function ve(){const e=document.querySelector("[data-abonements-root]");if(!e)return;const t=document.getElementById("contacts"),a=r=>{r&&r.preventDefault(),t&&t.scrollIntoView({behavior:"smooth",block:"start"})};ge().then(r=>{if(!Array.isArray(r)||r.length===0)return;ye(e,r);const o=e.querySelector(".abonement-card--hero");o&&o.addEventListener("click",a)});const i=document.querySelectorAll('[data-scroll-to="contacts"]');i.length&&i.forEach(r=>{r.addEventListener("click",a)})}const be=[{id:"dynasty-2023",title:"VIII Международный фестиваль искусств «Династия»",city:"Санкт-Петербург",country:"Россия",level:"международный",years:[2023],directions:["theatre","film"],headline:"Два Гран-при за фильмы «Твори Добро» и «Особняк потерянных шагов» плюс лауреат III степени за спектакль «Город Чудаков».",entries:[{work:"«Твори Добро»",type:"film",status:"Гран-при",category:"Короткометражный фильм / «Дорогою добра»",year:2023,isTop:!0,note:""},{work:"«Особняк потерянных шагов»",type:"film",status:"Гран-при",category:"Короткометражный фильм / «Петербургские тайны»",year:2023,isTop:!0,note:""},{work:"«Город Чудаков»",type:"theatre",status:"Лауреат III степени",category:"Драматический театр",year:2023,isTop:!1,note:""}]},{id:"na-beregah-nevy-2018-2023",title:"Международный фестиваль искусств «На берегах Невы»",city:"Санкт-Петербург",country:"Россия",level:"международный",years:[2018,2019,2023],directions:["theatre"],headline:"Гран-при за спектакль «Город Чудаков» и лауреаты I степени за «Кошкин дом» и другие постановки студии.",entries:[{work:"«Город Чудаков»",type:"theatre",status:"Гран-при",category:"Драматический театр",year:2023,isTop:!0,note:""},{work:"«Кошкин дом»",type:"theatre",status:"Лауреат I степени",category:"Драматический театр",year:2019,isTop:!1,note:""},{work:"Другие спектакли студии",type:"theatre",status:"Лауреаты I степени",category:"",year:2018,isTop:!1,note:""}]},{id:"sokrovischa-vostoka-2022",title:"Международный фестиваль «Сокровища Востока»",city:"Казань",country:"Россия",level:"международный",years:[2022],directions:["theatre","speech"],headline:"Лауреат I степени за спектакль «Кошкин дом» и три лауреата I степени в номинации «Художественное слово».",entries:[{work:"«Кошкин дом»",type:"theatre",status:"Лауреат I степени",category:"Драматический театр",year:2022,isTop:!0,note:""},{work:"Художественное слово — участник 1",type:"speech",status:"Лауреат I степени",category:"Художественное слово (младшая группа)",year:2022,isTop:!1,note:""},{work:"Художественное слово — участник 2",type:"speech",status:"Лауреат I степени",category:"Художественное слово (средняя группа)",year:2022,isTop:!1,note:""},{work:"Художественное слово — участник 3",type:"speech",status:"Лауреат I степени",category:"Художественное слово (старшая группа)",year:2022,isTop:!1,note:""}]},{id:"nesebar-2019",title:"Фестивали «Солнце – Радость – Красота» и «Звёзды Несебра»",city:"Несебр",country:"Болгария",level:"международный",years:[2019],directions:["theatre"],headline:"Первое место на фестивале «Солнце – Радость – Красота» и лауреаты II степени на фестивале «Звёзды Несебра».",entries:[{work:"Постановка студии (театр)",type:"theatre",status:"1 место",category:"Театральное искусство — нестандартные формы",year:2019,isTop:!0,note:"Фестиваль «Солнце – Радость – Красота»"},{work:"Постановка студии (театр)",type:"theatre",status:"Лауреаты II степени",category:"",year:2019,isTop:!1,note:"Фестиваль «Звёзды Несебра»"}]},{id:"nevskoe-siyanie-2023-2024",title:"Международный фестиваль «Невское сияние»",city:"Санкт-Петербург",country:"Россия",level:"международный",years:[2023,2024],directions:["theatre","speech"],headline:"«Кошкин дом» — лауреат II степени, чтецы студии берут весь диапазон наград от I до III степени.",entries:[{work:"«Кошкин дом»",type:"theatre",status:"Лауреат II степени",category:"Драматический театр",year:2023,isTop:!0,note:""},{work:"Художественное слово — участники студии",type:"speech",status:"Лауреаты I–III степеней",category:"Художественное слово",year:2023,isTop:!1,note:""},{work:"Новые участники художественного слова",type:"speech",status:"Лауреаты и дипломанты",category:"Художественное слово",year:2024,isTop:!1,note:""}]},{id:"starkids-2024",title:"Фестиваль STARKIDS!",city:"Санкт-Петербург",country:"Россия",level:"фестиваль-конкурс",years:[2024],directions:["theatre"],headline:"Спектакль «Кошкин дом» занимает 1 место в своей возрастной категории.",entries:[{work:"«Кошкин дом»",type:"theatre",status:"1 место",category:"Драматический театр (возрастная категория студии)",year:2024,isTop:!0,note:""}]},{id:"ltfest-zimniy-les-2025",title:"LT FEST «Зимний лес»",city:"Санкт-Петербург",country:"Россия",level:"фестиваль",years:[2025],directions:["theatre"],headline:"«Кошкин дом» — лауреат I степени и обладатель спецприза жюри за актёрское мастерство, «Лесная царевна» — лауреат III степени.",entries:[{work:"«Кошкин дом»",type:"theatre",status:"Лауреат I степени",category:"Драматический театр",year:2025,isTop:!0,note:"Спецприз жюри за актёрское мастерство"},{work:"«Лесная царевна»",type:"theatre",status:"Лауреат III степени",category:"Драматический театр",year:2025,isTop:!1,note:""}]}];function Ee(e){const t=[];return e.forEach(function(a){a.entries&&a.entries.forEach(function(i){i.isTop&&t.push({festivalId:a.id,label:i.status+" — "+a.title,sublabel:i.work,level:a.level,city:a.city,year:i.year})})}),t.sort(function(a,i){const r=function(s){return s?s.indexOf("Гран-при")!==-1?3:s.indexOf("1 место")!==-1?2:s.indexOf("Лауреат I")!==-1?1:0:0},o=r(i.label)-r(a.label);return o!==0?o:(i.year||0)-(a.year||0)}),t}function we(e){return!e||!e.length?"":e.map(function(t){return t==="theatre"?'<span class="festival-tag festival-tag--theatre">Театр</span>':t==="film"?'<span class="festival-tag festival-tag--film">Кино</span>':t==="speech"?'<span class="festival-tag festival-tag--speech">Художественное слово</span>':""}).join("")}function Le(e,t){if(!e)return;const a=window.innerWidth>=1024;function i(m){var g=m.label.indexOf("Гран-при")!==-1;return'<article class="award-badge'+(g?" award-badge--grandprix":"")+'" data-festival-id="'+m.festivalId+'"><h3 class="award-badge-title">'+m.label+"</h3>"+(m.sublabel?'<p class="award-badge-text">'+m.sublabel+"</p>":"")+"</article>"}var r=t.map(i).join(""),o=e.closest(".awards-strip--auto"),s=1;if(o)if(s=a?5:3,a){var c=-(100/s);e.style.setProperty("--awards-shift",c+"%")}else e.style.removeProperty("--awards-shift");e.innerHTML="";for(var d=0;d<s;d++)e.innerHTML+=r;var l=0,f=e.querySelectorAll(".award-badge");if(f.forEach(function(m,g){if(!(s>1&&g>=t.length)){var y=m.getBoundingClientRect();l=Math.max(l,y.width,y.height)}}),l>0){var n=Math.ceil(l+20);e.style.setProperty("--award-badge-size",n+"px")}if(s>1){var v=e.scrollWidth/s,p=e.parentElement;p&&(p.scrollLeft=v*Math.floor(s/2)),e.dataset.awardsBaseWidth=String(v),e.dataset.awardsRepeat=String(s)}e.__awardsClickBound||(e.addEventListener("click",function(m){var g=m.target.closest(".award-badge");if(g){var y=g.getAttribute("data-festival-id");if(y){var u=document.querySelector('[data-festival-id="'+y+'"]');u&&u.scrollIntoView({behavior:"smooth",block:"start"})}}}),e.__awardsClickBound=!0)}function Ce(e){if(!e)return;const t=e.querySelector(".awards-strip-viewport"),a=e.querySelector(".awards-strip-inner");if(!t||!a)return;const i=a.dataset.awardsRepeat?parseInt(a.dataset.awardsRepeat,10):1,r=a.dataset.awardsBaseWidth?parseFloat(a.dataset.awardsBaseWidth):0;if(i>1&&r>0){const l=r*.5,f=r*(i-1.5);t.addEventListener("scroll",function(){t.scrollLeft>f?t.scrollLeft-=r*(i-2):t.scrollLeft<l&&(t.scrollLeft+=r*(i-2))})}let o=!1,s=0,c=0;t.addEventListener("pointerdown",function(l){o=!0,s=l.clientX,c=t.scrollLeft,t.classList.add("is-dragging"),t.setPointerCapture(l.pointerId)}),t.addEventListener("pointermove",function(l){if(!o)return;const f=l.clientX-s;t.scrollLeft=c-f});function d(){o=!1,t.classList.remove("is-dragging")}t.addEventListener("pointerup",d),t.addEventListener("pointercancel",d),t.addEventListener("pointerleave",d),t.addEventListener("wheel",function(l){const f=Math.abs(l.deltaX)>Math.abs(l.deltaY)?l.deltaX:l.deltaY;t.scrollLeft+=f,l.preventDefault()},{passive:!1})}function Ae(e,t,a){if(!e)return;e.innerHTML="";const i=t.slice().sort(function(o,s){const c=o.years&&o.years.length?Math.max.apply(null,o.years):0;return(s.years&&s.years.length?Math.max.apply(null,s.years):0)-c}),r=typeof a=="number"?a:i.length;i.slice(0,r).forEach(function(o){const s=document.createElement("article");s.className="festival-card",s.setAttribute("data-festival-id",o.id);const c=o.years&&o.years.length?o.years.join(" / "):"",d=[];c&&d.push(c),o.city&&d.push(o.city),o.level&&d.push(o.level);const l=d.join(" · "),f=document.createElement("header"),n=document.createElement("h3");n.className="festival-card-title",n.textContent=o.title;const v=document.createElement("p");v.className="festival-card-meta",v.textContent=l,f.appendChild(n),f.appendChild(v);const p=document.createElement("p");p.className="festival-card-headline",p.textContent=o.headline;const m=document.createElement("ul");m.className="festival-card-list",(o.entries||[]).slice(0,4).forEach(function(y){const u=[];y.status&&u.push(y.status),y.work&&u.push(y.work),y.category&&u.push(y.category),y.note&&u.push(y.note);const w=document.createElement("li");w.textContent=u.join(" — "),m.appendChild(w)});const g=document.createElement("div");g.className="festival-tags",g.innerHTML=we(o.directions),s.appendChild(f),s.appendChild(p),s.appendChild(m),s.appendChild(g),e.appendChild(s)})}function Se(e){const t=document.querySelector("#awards");if(!t)return;const a=t.querySelector("[data-top-awards-root]"),i=t.querySelector("[data-festivals-root]");if(!a||!i)return;const r=Ee(e);Le(a,r),Ce(t.querySelector("[data-awards-strip]"));let o=!1;function s(){const d=window.innerWidth<=768,l=d?2:e.length;if(Ae(i,e,o?e.length:l),d&&e.length>l){let f=i.querySelector(".awards-toggle");f||(f=document.createElement("button"),f.type="button",f.className="people-toggle awards-toggle",f.textContent=o?"Свернуть фестивали":"Показать ещё фестивали",f.addEventListener("click",function(){o=!o,f.textContent=o?"Свернуть фестивали":"Показать ещё фестивали",s()}),i.appendChild(f)),i.appendChild(f)}}s();let c=window.innerWidth<=768;window.addEventListener("resize",function(){const d=window.innerWidth<=768;d!==c&&(o=!1,s(),c=d)})}function xe(){Se(be)}function ke(){const e=document.querySelector(".section-snow-queen"),t=e?e.querySelector(".snow-queen-grid"):null;!e||!t||("IntersectionObserver"in window?new IntersectionObserver((i,r)=>{i.forEach(o=>{o.isIntersecting&&(setTimeout(()=>{t.classList.add("snow-queen-grid--visible")},3e3),r.unobserve(o.target))})},{threshold:.4}).observe(e):t.classList.add("snow-queen-grid--visible"))}function qe(){const e=document.querySelector("[data-docs-modal]");if(!e)return;const t=document.querySelectorAll("[data-open-docs-modal]"),a=e.querySelectorAll("[data-close-docs-modal]");function i(){e.removeAttribute("hidden"),document.body.style.overflow="hidden";const o=e.querySelector(".docs-modal__dialog");o&&o.focus()}function r(){e.setAttribute("hidden",""),document.body.style.overflow=""}t.forEach(o=>{o.addEventListener("click",s=>{s.preventDefault(),i()})}),a.forEach(o=>{o.addEventListener("click",r)}),document.addEventListener("keydown",o=>{o.key==="Escape"&&!e.hasAttribute("hidden")&&r()})}function Ie(){const e=document.getElementById("location-video-lightbox"),t=document.getElementById("location-video-iframe"),a=document.querySelector("[data-open-location-video]"),i=document.querySelectorAll("[data-close-location-video]"),r="https://vk.com/video_ext.php?oid=-232221941&id=456239082";if(!e||!t||!a){console.warn("Video lightbox elements not found");return}function o(){e.removeAttribute("hidden"),t.src=r,document.body.style.overflow="hidden",e.focus()}function s(){e.setAttribute("hidden",""),t.src="",document.body.style.overflow=""}a.addEventListener("click",o),i.forEach(c=>{c.addEventListener("click",s)}),document.addEventListener("keydown",c=>{c.key==="Escape"&&!e.hasAttribute("hidden")&&s()})}document.addEventListener("DOMContentLoaded",()=>{X(),Y(),z(),ee(),ke(),Ie(),qe(),G(),K(),Q(),J(),Z(),te(),ie(),pe(),ve(),xe();const e=document.querySelector(".section-casting .casting-btn-secondary");e&&e.addEventListener("click",t=>{t.preventDefault()})});
